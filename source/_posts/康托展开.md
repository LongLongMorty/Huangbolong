---
title: 康托展开
date: 2019-01-14 10:11:00
categories: 数论
urlname: 10
tags:
---
<!--markdown-->
# 作用

求一个排列结果是在全排列中的第几项

# 推导

先照搬PPT里的过程。

举例：对于集合```{1,2,3}```，求```{3,2,1}```是全排列中的第几项？

那么，```{3,2,1}```之前的有三种情况：

1. 第一项<3：

   一定在```{3,2,1}```前，此时第一项有两种选择，后两位随意，则共有<img src="https://latex.codecogs.com/png.latex?%5Cdpi%7B150%7D%20%5Cbg_white%20%5Cfn_phv%202%5Ccdot%20A_%7B2%7D%5E%7B2%7D" title="2\cdot A_{2}^{2}" />

   种

2. 第一项=3：

   则第二项<2时结果小于```{3,2,1}```

3. 前两项相等：

   没有比```{3,2,1}```小的

总共```2*2!+1*1!+0=5```种

# 计算公式

<img src="https://latex.codecogs.com/png.latex?%5Cdpi%7B150%7D%20%5Cbg_white%20%5Cfn_phv%20ans%3D%20%5Csum_%7Bn%7D%5E%7Bi%3D1%7Dp_%7Bi%7D*%28n-i%29%21" />

其中pi表示在没选中的元素中比ai小的的数量

# 逆推

给定一个序号，求出排列结果。

例：对于集合```{1,2,3,4,5,6}```，求出全排列的第100项（从0开始计数）。

这个。。。直接上张ppt吧。

![PPT](https://i.loli.net/2019/01/18/5c4144502f7eb.png)

